<% content_for :js do %>
  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry"></script>
  <script>
var map , geocoder;

function initialize() {
  var is_error = false;
  try{
    <%= raw(params[:body]) %>
  }catch(e){
    is_error = true;
  }
  
  if(!is_error && map && geocoder){
    $('.status .success').show();
    $.get('/game/callback_success?id=4' , function(data){});
  }else{
    $('.status .error').show();
  }
}
google.maps.event.addDomListener(window, 'load', initialize);
    </script>
<% end %>

<p class="status">
<span class="success" style="display:none;">Congratulations!</span><span class="error" style="display:none;">Sorry...</span>
</p>

<pre id="timezone_show"></pre>

<div id="google_map" style="width:100%;height:400px;"></div>